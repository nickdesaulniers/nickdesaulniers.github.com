<!doctype html><html xmlns=http://www.w3.org/1999/xhtml xml:lang=en lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,minimum-scale=1,maximum-scale=1"><link href=/css/fonts.css rel=stylesheet type=text/css><title>Intro to Debugging X86-64 Assembly</title><link rel=stylesheet href=/css/hugo-octopress.css><link rel=stylesheet href=https://nickdesaulniers.github.io/css/custom.css><link rel=stylesheet href=/css/fork-awesome.min.css><link href=https://nickdesaulniers.github.io/favicon.ico rel=icon><meta name=description content><meta name=keywords content><meta name=author content="Nick Desaulniers"><meta name=generator content="Hugo 0.109.0"></head><body><header role=banner><hgroup><h1><a href=https://nickdesaulniers.github.io/>Nick Desaulniers</a></h1><h2>The enemy's gate is down</h2></hgroup></header><nav role=navigation><fieldset class=mobile-nav><select onchange="location=this.value"><option value>Navigate…</option><option value=https://nickdesaulniers.github.io/about/>» About</option><option value=https://nickdesaulniers.github.io/blog/archives/>» Archives</option><option value=https://nickdesaulniers.github.io/>» Blog</option><option value=https://nickdesaulniers.github.io/publications/>» Publications</option><option value=https://nickdesaulniers.github.io/talks/>» Talks</option></select></fieldset><ul class=main-navigation><li><a href=https://nickdesaulniers.github.io/about/ title=About rel="noopener noreferrer">About</a></li><li><a href=https://nickdesaulniers.github.io/blog/archives/ title=Archives rel="noopener noreferrer">Archives</a></li><li><a href=https://nickdesaulniers.github.io/ title=Blog>Blog</a></li><li><a href=https://nickdesaulniers.github.io/publications/ title=Publications rel="noopener noreferrer">Publications</a></li><li><a href=https://nickdesaulniers.github.io/talks/ title=Talks rel="noopener noreferrer">Talks</a></li></ul><ul class=subscription><a href=https://nickdesaulniers.github.io/index.xml target=_blank type=application/rss+xml title=RSS rel="noopener noreferrer"><i class="fa fa-rss-square fa-lg"></i></a></ul><form action=https://www.google.com/search method=get target=_blank rel="noopener noreferrer"><fieldset role=search><input class=search type=text name=q results=0 placeholder=Search>
<input type=hidden name=q value=site:https://nickdesaulniers.github.io/></fieldset></form></nav><div id=main><div id=content><div><article class=hentry role=article><header><p class=meta>Jan 20, 2016
- 5 minute read
- <a href=https://nickdesaulniers.github.io/blog/2016/01/20/debugging-x86-64-assembly-with-lldb-and-dtrace/#disqus_thread>Comments</a>
- <a class=label href=https://nickdesaulniers.github.io/categories/asm/>asm </a><a class=label href=https://nickdesaulniers.github.io/categories/dtrace/>dtrace </a><a class=label href=https://nickdesaulniers.github.io/categories/lldb/>lldb </a><a class=label href=https://nickdesaulniers.github.io/categories/osx/>osx </a><a class=label href=https://nickdesaulniers.github.io/categories/x86/>x86</a></p><h1 class=entry-title>Intro to Debugging X86-64 Assembly</h1></header><div class=entry-content><p>I&rsquo;m hacking on an assembly project, and wanted to document some of the tricks I
was using for figuring out what was going on. This post might seem a little
basic for folks who spend all day heads down in gdb or who do this stuff
professionally, but I just wanted to share a quick intro to some tools that
others may find useful.
(
<a href=https://pchiusano.github.io/2014-10-11/defensive-writing.html target=_blank rel=noopener>oh god, I&rsquo;m doing it</a>)</p><p>If your coming from gdb to lldb, there&rsquo;s a few differences in commands. LLDB
has
<a href=http://lldb.llvm.org/lldb-gdb.html target=_blank rel=noopener>great documentation</a>
on some of the differences. Everything in this post about LLDB is pretty much
there.</p><p>The bread and butter commands when working with gdb or lldb are:</p><ul><li>r (run the program)</li><li>s (step in)</li><li>n (step over)</li><li>finish (step out)</li><li>c (continue)</li><li>q (quit the program)</li></ul><p>You can hit enter if you want to run the last command again, which is really
useful if you want to keep stepping over statements repeatedly.</p><p>I&rsquo;ve been using LLDB on OSX. Let&rsquo;s say I want to debug a program I can build,
but is crashing or something:</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ sudo lldb ./asmttpd web_root
</span></span></code></pre></div><p>Setting a breakpoint on jump to label:</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#719e07>(</span>lldb<span style=color:#719e07>)</span> b sys_write
</span></span><span style=display:flex><span>Breakpoint 3: <span style=color:#268bd2>where</span> <span style=color:#719e07>=</span> asmttpd<span style=color:#586e75>`</span>sys_write, <span style=color:#268bd2>address</span> <span style=color:#719e07>=</span> 0x00000000000029ae
</span></span></code></pre></div><p>Running the program until breakpoint hit:</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#719e07>(</span>lldb<span style=color:#719e07>)</span> r
</span></span><span style=display:flex><span>Process <span style=color:#2aa198>32236</span> launched: <span style=color:#2aa198>&#39;./asmttpd&#39;</span> <span style=color:#719e07>(</span>x86_64<span style=color:#719e07>)</span>
</span></span><span style=display:flex><span>Process <span style=color:#2aa198>32236</span> stopped
</span></span><span style=display:flex><span>* thread <span style=color:#586e75>#1: tid = 0xe69b9, 0x00000000000029ae asmttpd`sys_write, queue = &#39;com.apple.main-thread&#39;, stop reason = breakpoint 3.1</span>
</span></span><span style=display:flex><span>    frame <span style=color:#586e75>#0: 0x00000000000029ae asmttpd`sys_write</span>
</span></span><span style=display:flex><span>asmttpd<span style=color:#586e75>`</span>sys_write:
</span></span><span style=display:flex><span>-&gt;  0x29ae &lt;+0&gt;: pushq  %rdi
</span></span><span style=display:flex><span>    0x29af &lt;+1&gt;: pushq  %rsi
</span></span><span style=display:flex><span>    0x29b0 &lt;+2&gt;: pushq  %rdx
</span></span><span style=display:flex><span>    0x29b1 &lt;+3&gt;: pushq  %r10
</span></span></code></pre></div><p>Seeing more of the current stack frame:</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#719e07>(</span>lldb<span style=color:#719e07>)</span> d
</span></span><span style=display:flex><span>asmttpd<span style=color:#586e75>`</span>sys_write:
</span></span><span style=display:flex><span>-&gt;  0x29ae &lt;+0&gt;:  pushq  %rdi
</span></span><span style=display:flex><span>    0x29af &lt;+1&gt;:  pushq  %rsi
</span></span><span style=display:flex><span>    0x29b0 &lt;+2&gt;:  pushq  %rdx
</span></span><span style=display:flex><span>    0x29b1 &lt;+3&gt;:  pushq  %r10
</span></span><span style=display:flex><span>    0x29b3 &lt;+5&gt;:  pushq  %r8
</span></span><span style=display:flex><span>    0x29b5 &lt;+7&gt;:  pushq  %r9
</span></span><span style=display:flex><span>    0x29b7 &lt;+9&gt;:  pushq  %rbx
</span></span><span style=display:flex><span>    0x29b8 &lt;+10&gt;: pushq  %rcx
</span></span><span style=display:flex><span>    0x29b9 &lt;+11&gt;: movq   %rsi, %rdx
</span></span><span style=display:flex><span>    0x29bc &lt;+14&gt;: movq   %rdi, %rsi
</span></span><span style=display:flex><span>    0x29bf &lt;+17&gt;: movq   <span style=color:#268bd2>$0</span>x1, %rdi
</span></span><span style=display:flex><span>    0x29c6 &lt;+24&gt;: movq   <span style=color:#268bd2>$0</span>x2000004, %rax
</span></span><span style=display:flex><span>    0x29cd &lt;+31&gt;: syscall
</span></span><span style=display:flex><span>    0x29cf &lt;+33&gt;: popq   %rcx
</span></span><span style=display:flex><span>    0x29d0 &lt;+34&gt;: popq   %rbx
</span></span><span style=display:flex><span>    0x29d1 &lt;+35&gt;: popq   %r9
</span></span><span style=display:flex><span>    0x29d3 &lt;+37&gt;: popq   %r8
</span></span><span style=display:flex><span>    0x29 &lt;+39&gt;: popq   %r10
</span></span><span style=display:flex><span>    0x29d7 &lt;+41&gt;: popq   %rdx
</span></span><span style=display:flex><span>    0x29d8 &lt;+42&gt;: popq   %rsi
</span></span><span style=display:flex><span>    0x29d9 &lt;+43&gt;: popq   %rdi
</span></span><span style=display:flex><span>    0x29da &lt;+44&gt;: retq
</span></span></code></pre></div><p>Getting a back trace (call stack):</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#719e07>(</span>lldb<span style=color:#719e07>)</span> bt
</span></span><span style=display:flex><span>* thread <span style=color:#586e75>#1: tid = 0xe69b9, 0x00000000000029ae asmttpd`sys_write, queue = &#39;com.apple.main-thread&#39;, stop reason = breakpoint 3.1</span>
</span></span><span style=display:flex><span>  * frame <span style=color:#586e75>#0: 0x00000000000029ae asmttpd`sys_write</span>
</span></span><span style=display:flex><span>    frame <span style=color:#586e75>#1: 0x00000000000021b6 asmttpd`print_line + 16</span>
</span></span><span style=display:flex><span>    frame <span style=color:#586e75>#2: 0x0000000000002ab3 asmttpd`start + 35</span>
</span></span><span style=display:flex><span>    frame <span style=color:#586e75>#3: 0x00007fff9900c5ad libdyld.dylib`start + 1</span>
</span></span><span style=display:flex><span>    frame <span style=color:#586e75>#4: 0x00007fff9900c5ad libdyld.dylib`start + 1</span>
</span></span></code></pre></div><p>peeking at the upper stack frame:</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#719e07>(</span>lldb<span style=color:#719e07>)</span> up
</span></span><span style=display:flex><span>frame <span style=color:#586e75>#1: 0x00000000000021b6 asmttpd`print_line + 16</span>
</span></span><span style=display:flex><span>asmttpd<span style=color:#586e75>`</span>print_line:
</span></span><span style=display:flex><span>    0x21b6 &lt;+16&gt;: movabsq <span style=color:#268bd2>$0</span>x30cb, %rdi
</span></span><span style=display:flex><span>    0x21c0 &lt;+26&gt;: movq   <span style=color:#268bd2>$0</span>x1, %rsi
</span></span><span style=display:flex><span>    0x21c7 &lt;+33&gt;: callq  0x29ae                    ; sys_write
</span></span><span style=display:flex><span>    0x21cc &lt;+38&gt;: popq   %rcx
</span></span></code></pre></div><p>back down to the breakpoint-halted stack frame:</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#719e07>(</span>lldb<span style=color:#719e07>)</span> down
</span></span><span style=display:flex><span>frame <span style=color:#586e75>#0: 0x00000000000029ae asmttpd`sys_write</span>
</span></span><span style=display:flex><span>asmttpd<span style=color:#586e75>`</span>sys_write:
</span></span><span style=display:flex><span>-&gt;  0x29ae &lt;+0&gt;: pushq  %rdi
</span></span><span style=display:flex><span>    0x29af &lt;+1&gt;: pushq  %rsi
</span></span><span style=display:flex><span>    0x29b0 &lt;+2&gt;: pushq  %rdx
</span></span><span style=display:flex><span>    0x29b1 &lt;+3&gt;: pushq  %r10
</span></span></code></pre></div><p>dumping the values of registers:</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#719e07>(</span>lldb<span style=color:#719e07>)</span> register <span style=color:#b58900>read</span>
</span></span><span style=display:flex><span>General Purpose Registers:
</span></span><span style=display:flex><span>       <span style=color:#268bd2>rax</span> <span style=color:#719e07>=</span> 0x0000000000002a90  asmttpd<span style=color:#586e75>`</span>start
</span></span><span style=display:flex><span>       <span style=color:#268bd2>rbx</span> <span style=color:#719e07>=</span> 0x0000000000000000
</span></span><span style=display:flex><span>       <span style=color:#268bd2>rcx</span> <span style=color:#719e07>=</span> 0x00007fff5fbffaf8
</span></span><span style=display:flex><span>       <span style=color:#268bd2>rdx</span> <span style=color:#719e07>=</span> 0x00007fff5fbffa40
</span></span><span style=display:flex><span>       <span style=color:#268bd2>rdi</span> <span style=color:#719e07>=</span> 0x00000000000030cc  start_text
</span></span><span style=display:flex><span>       <span style=color:#268bd2>rsi</span> <span style=color:#719e07>=</span> 0x000000000000000f
</span></span><span style=display:flex><span>       <span style=color:#268bd2>rbp</span> <span style=color:#719e07>=</span> 0x00007fff5fbffa18
</span></span><span style=display:flex><span>       <span style=color:#268bd2>rsp</span> <span style=color:#719e07>=</span> 0x00007fff5fbff9b8
</span></span><span style=display:flex><span>        <span style=color:#268bd2>r8</span> <span style=color:#719e07>=</span> 0x0000000000000000
</span></span><span style=display:flex><span>        <span style=color:#268bd2>r9</span> <span style=color:#719e07>=</span> 0x00007fff7b1670c8  atexit_mutex + <span style=color:#2aa198>24</span>
</span></span><span style=display:flex><span>       <span style=color:#268bd2>r10</span> <span style=color:#719e07>=</span> 0x00000000ffffffff
</span></span><span style=display:flex><span>       <span style=color:#268bd2>r11</span> <span style=color:#719e07>=</span> 0xffffffff00000000
</span></span><span style=display:flex><span>       <span style=color:#268bd2>r12</span> <span style=color:#719e07>=</span> 0x0000000000000000
</span></span><span style=display:flex><span>       <span style=color:#268bd2>r13</span> <span style=color:#719e07>=</span> 0x0000000000000000
</span></span><span style=display:flex><span>       <span style=color:#268bd2>r14</span> <span style=color:#719e07>=</span> 0x0000000000000000
</span></span><span style=display:flex><span>       <span style=color:#268bd2>r15</span> <span style=color:#719e07>=</span> 0x0000000000000000
</span></span><span style=display:flex><span>       <span style=color:#268bd2>rip</span> <span style=color:#719e07>=</span> 0x00000000000029ae  asmttpd<span style=color:#586e75>`</span>sys_write
</span></span><span style=display:flex><span>    <span style=color:#268bd2>rflags</span> <span style=color:#719e07>=</span> 0x0000000000000246
</span></span><span style=display:flex><span>        <span style=color:#268bd2>cs</span> <span style=color:#719e07>=</span> 0x000000000000002b
</span></span><span style=display:flex><span>        <span style=color:#268bd2>fs</span> <span style=color:#719e07>=</span> 0x0000000000000000
</span></span><span style=display:flex><span>        <span style=color:#268bd2>gs</span> <span style=color:#719e07>=</span> 0x0000000000000000
</span></span></code></pre></div><p>read just one register:</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#719e07>(</span>lldb<span style=color:#719e07>)</span> register <span style=color:#b58900>read</span> rdi
</span></span><span style=display:flex><span>     <span style=color:#268bd2>rdi</span> <span style=color:#719e07>=</span> 0x00000000000030cc  start_text
</span></span></code></pre></div><p>When you&rsquo;re trying to figure out what system calls are made by some C code,
using dtruss is very helpful. dtruss is available on OSX and seems to be some
kind of wrapper around DTrace.</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ cat sleep.c
</span></span><span style=display:flex><span><span style=color:#586e75>#include &lt;time.h&gt;</span>
</span></span><span style=display:flex><span>int main <span style=color:#719e07>()</span> <span style=color:#719e07>{</span>
</span></span><span style=display:flex><span>  struct timespec <span style=color:#268bd2>rqtp</span> <span style=color:#719e07>=</span> <span style=color:#719e07>{</span>
</span></span><span style=display:flex><span>    2,
</span></span><span style=display:flex><span>    <span style=color:#2aa198>0</span>
</span></span><span style=display:flex><span>  <span style=color:#719e07>}</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  nanosleep<span style=color:#719e07>(</span>&amp;rqtp, NULL<span style=color:#719e07>)</span>;
</span></span><span style=display:flex><span><span style=color:#719e07>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>$ clang sleep.c
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>$ sudo dtruss ./a.out
</span></span><span style=display:flex><span>...all kinds of fun stuff
</span></span><span style=display:flex><span>__semwait_signal<span style=color:#719e07>(</span>0xB03, 0x0, 0x1<span style=color:#719e07>)</span>    <span style=color:#719e07>=</span> -1 Err#60
</span></span></code></pre></div><p>If you compile with <code>-g</code> to emit debug symbols, you can use lldb&rsquo;s disassemble
command to get the equivalent assembly:</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ clang sleep.c -g
</span></span><span style=display:flex><span>$ lldb a.out
</span></span><span style=display:flex><span><span style=color:#719e07>(</span>lldb<span style=color:#719e07>)</span> target create <span style=color:#2aa198>&#34;a.out&#34;</span>
</span></span><span style=display:flex><span>Current executable <span style=color:#b58900>set</span> to <span style=color:#2aa198>&#39;a.out&#39;</span> <span style=color:#719e07>(</span>x86_64<span style=color:#719e07>)</span>.
</span></span><span style=display:flex><span><span style=color:#719e07>(</span>lldb<span style=color:#719e07>)</span> b main
</span></span><span style=display:flex><span>Breakpoint 1: <span style=color:#268bd2>where</span> <span style=color:#719e07>=</span> a.out<span style=color:#586e75>`</span>main + <span style=color:#2aa198>16</span> at sleep.c:3, <span style=color:#268bd2>address</span> <span style=color:#719e07>=</span> 0x0000000100000f40
</span></span><span style=display:flex><span><span style=color:#719e07>(</span>lldb<span style=color:#719e07>)</span> r
</span></span><span style=display:flex><span>Process <span style=color:#2aa198>33213</span> launched: <span style=color:#2aa198>&#39;/Users/Nicholas/code/assembly/asmttpd/a.out&#39;</span> <span style=color:#719e07>(</span>x86_64<span style=color:#719e07>)</span>
</span></span><span style=display:flex><span>Process <span style=color:#2aa198>33213</span> stopped
</span></span><span style=display:flex><span>* thread <span style=color:#586e75>#1: tid = 0xeca04, 0x0000000100000f40 a.out`main + 16 at sleep.c:3, queue = &#39;com.apple.main-thread&#39;, stop reason = breakpoint 1.1</span>
</span></span><span style=display:flex><span>    frame <span style=color:#586e75>#0: 0x0000000100000f40 a.out`main + 16 at sleep.c:3</span>
</span></span><span style=display:flex><span>   <span style=color:#2aa198>1</span>    <span style=color:#586e75>#include &lt;time.h&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#2aa198>2</span>    int main <span style=color:#719e07>()</span> <span style=color:#719e07>{</span>
</span></span><span style=display:flex><span>-&gt; <span style=color:#2aa198>3</span>      struct timespec <span style=color:#268bd2>rqtp</span> <span style=color:#719e07>=</span> <span style=color:#719e07>{</span>
</span></span><span style=display:flex><span>   <span style=color:#2aa198>4</span>        2,
</span></span><span style=display:flex><span>   <span style=color:#2aa198>5</span>        <span style=color:#2aa198>0</span>
</span></span><span style=display:flex><span>   <span style=color:#2aa198>6</span>      <span style=color:#719e07>}</span>;
</span></span><span style=display:flex><span>   <span style=color:#2aa198>7</span>
</span></span><span style=display:flex><span><span style=color:#719e07>(</span>lldb<span style=color:#719e07>)</span> disassemble
</span></span><span style=display:flex><span>a.out<span style=color:#586e75>`</span>main:
</span></span><span style=display:flex><span>    0x100000f30 &lt;+0&gt;:  pushq  %rbp
</span></span><span style=display:flex><span>    0x100000f31 &lt;+1&gt;:  movq   %rsp, %rbp
</span></span><span style=display:flex><span>    0x100000f34 &lt;+4&gt;:  subq   <span style=color:#268bd2>$0</span>x20, %rsp
</span></span><span style=display:flex><span>    0x100000f38 &lt;+8&gt;:  leaq   -0x10<span style=color:#719e07>(</span>%rbp<span style=color:#719e07>)</span>, %rdi
</span></span><span style=display:flex><span>    0x100000f3c &lt;+12&gt;: xorl   %eax, %eax
</span></span><span style=display:flex><span>    0x100000f3e &lt;+14&gt;: movl   %eax, %esi
</span></span><span style=display:flex><span>-&gt;  0x100000f40 &lt;+16&gt;: movq   0x49<span style=color:#719e07>(</span>%rip<span style=color:#719e07>)</span>, %rcx
</span></span><span style=display:flex><span>    0x100000f47 &lt;+23&gt;: movq   %rcx, -0x10<span style=color:#719e07>(</span>%rbp<span style=color:#719e07>)</span>
</span></span><span style=display:flex><span>    0x100000f4b &lt;+27&gt;: movq   0x46<span style=color:#719e07>(</span>%rip<span style=color:#719e07>)</span>, %rcx
</span></span><span style=display:flex><span>    0x100000f52 &lt;+34&gt;: movq   %rcx, -0x8<span style=color:#719e07>(</span>%rbp<span style=color:#719e07>)</span>
</span></span><span style=display:flex><span>    0x100000f56 &lt;+38&gt;: callq  0x100000f68               ; symbol stub <span style=color:#719e07>for</span>: nanosleep
</span></span><span style=display:flex><span>    0x100000f5b &lt;+43&gt;: xorl   %edx, %edx
</span></span><span style=display:flex><span>    0x100000f5d &lt;+45&gt;: movl   %eax, -0x14<span style=color:#719e07>(</span>%rbp<span style=color:#719e07>)</span>
</span></span><span style=display:flex><span>    0x100000f60 &lt;+48&gt;: movl   %edx, %eax
</span></span><span style=display:flex><span>    0x100000f62 &lt;+50&gt;: addq   <span style=color:#268bd2>$0</span>x20, %rsp
</span></span><span style=display:flex><span>    0x100000f66 &lt;+54&gt;: popq   %rbp
</span></span><span style=display:flex><span>    0x100000f67 &lt;+55&gt;: retq
</span></span></code></pre></div><p>Anyways, I&rsquo;ve been learning some interesting things about OSX that I&rsquo;ll be
sharing soon. If you&rsquo;d like to learn more about x86-64 assembly programming,
you should read my other posts about
<a href=/blog/2014/04/18/lets-write-some-x86-64/>writing x86-64</a>
and a toy
<a href=/blog/2015/05/25/interpreter-compiler-jit/>JIT for Brainfuck</a>
(
<a href=https://www.reddit.com/r/programming/comments/377ov9/interpreter_compiler_jit/crkkrz4 target=_blank rel=noopener>the creator of Brainfuck liked it</a>).</p><p>I should also do a post on
<a href=http://rr-project.org/ target=_blank rel=noopener>Mozilla&rsquo;s rr</a>,
because it can do amazing things like step backwards. Another day&mldr;</p></div><footer><p class=meta><span class="byline author vcard">Posted by <span class=fn>Nick Desaulniers</span></span>
<time>Jan 20, 2016</time></span></p><p class=meta><a class="basic-alignment left" href=https://nickdesaulniers.github.io/blog/2015/08/14/my-siggraph-2015-experience/ title="My SIGGRAPH 2015 Experience">My SIGGRAPH 2015 Experience</a>
<a class="basic-alignment right" href=https://nickdesaulniers.github.io/blog/2016/05/15/whats-in-a-word/ title="What's in a Word?">What's in a Word?</a></p><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//wangstabill.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></footer></article></div><aside class="sidebar thirds"><section class="first odd"><p></p></section><ul class=sidebar-nav><li class=sidebar-nav-item><a target=_blank rel="noopener noreferrer" href=https://github.com/nickdesaulniers title=https://github.com/nickdesaulniers><i class="fa fa-github fa-3x"></i></a>
<a target=_blank rel="me noopener noreferrer" href=https://fosstodon.org/@llvm title=https://fosstodon.org/@llvm><i class="fa fa-mastodon fa-3x"></i></a>
<a target=_blank rel="noopener noreferrer" href=https://www.linkedin.com/in/nick-desaulniers-75520334 title=https://www.linkedin.com/in/nick-desaulniers-75520334><i class="fa fa-linkedin fa-3x"></i></a>
<a target=_blank rel="noopener noreferrer" href=https://www.youtube.com/channel/UC68vgKSuS1Xjg9wpdvShfSQ title=https://www.youtube.com/channel/UC68vgKSuS1Xjg9wpdvShfSQ><i class="fa fa-youtube fa-3x"></i></a></li></ul><section class=even><h1>Recent Posts</h1><ul id=recent_posts><li class=post><a href=/blog/2023/01/20/debugging-wframe-larger-than/>Debugging -Wframe-larger-than=</a></li><li class=post><a href=/blog/2020/04/06/off-by-two/>Off by Two</a></li><li class=post><a href=/blog/2019/05/12/f-vs-f-void-in-c-vs-c-plus-plus/>f() vs f(void) in C vs C++</a></li><li class=post><a href=/blog/2019/01/18/finding-compiler-bugs-with-c-reduce/>Finding Compiler Bugs With C-Reduce</a></li></ul></section></aside></div></div><footer role=contentinfo><p>Copyright &copy; 2023 Nick Desaulniers - <a href=https://nickdesaulniers.github.io/license/>License</a> -
<span class=credit>Powered by <a target=_blank href=https://gohugo.io rel="noopener noreferrer">Hugo</a> and <a target=_blank href=https://github.com/parsiya/hugo-octopress/ rel="noopener noreferrer">Hugo-Octopress</a> theme.</p></footer><script>var _gaq=[["_setAccount","UA-36993986-1"],["_trackPageview"]];(function(e,t){var n=e.createElement(t),s=e.getElementsByTagName(t)[0];n.src=("https:"==location.protocol?"//ssl":"//www")+".google-analytics.com/ga.js",s.parentNode.insertBefore(n,s)})(document,"script")</script></body></html>